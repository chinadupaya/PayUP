{% extends "home/base.html" %}
{% load crispy_forms_tags %}
{% block content %}

<div id="container" data-url="{% url 'get_data' %}"></div>
  <script src="https://code.highcharts.com/highcharts.src.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script>
    $.ajax({
      url: $("#container").attr("data-url"),
      dataType: 'json',
      success: function (data) {
        Highcharts.chart("container", data);
      }
    });
  </script>
<!--
<div id="container"></div>
<script src="https://code.highcharts.com/highcharts.src.js"></script>
<script>
  Highcharts.chart('container', {{ chart|safe }});
</script>
-->
<!--
<script type="text/javascript">
$(document).ready(function() {    
    var endpoint = 'get_data'
        $.ajax({
            method:"GET",
            url:endpoint,
            dataType: 'json',
            success: function(data){
                console.log(data)
            },
            error: function(error_data){
                console.log("ERROR")
                console.log(error_data)
            }
        })
 });
</script>
-->
<!--CANVAS

<script type="text/javascript">
    window.onload = function() {
    
    var options = {
        title: {
            text: "Expenses"
        },
        data: [{
                type: "pie",
                startAngle: 45,
                showInLegend: "true",
                legendText: "{label}",
                indexLabel: "{label} ({y})",
                yValueFormatString:"#,##0.#"%"",
                dataPoints: [
                    { label: "Organic", y: 36 },
                    { label: "Email Marketing", y: 31 },
                    { label: "Referrals", y: 7 },
                    { label: "Twitter", y: 7 },
                    { label: "Facebook", y: 6 },
                    { label: "Google", y: 10 },
                    { label: "Others", y: 3 }
                ]
        }]
    };
    $(".expenses-container").CanvasJSChart(options);
    
    }
</script>


<div class="container">
    <div class="expenses-container" style="height:300px; width: 100%">
    </div>
</div>
-->
{% endblock %}